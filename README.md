# WiFi Manager for OpenWrt

OpenWrt æ— çº¿ä¸­ç»§ç®¡ç†ç³»ç»Ÿ - åŸºäº Vue3 + LuCI RPC

## åŠŸèƒ½ç‰¹æ€§

### ğŸ“¡ ä¸­ç»§æ¨¡å¼
- ğŸ“¶ **å¼€å¯ä¸­ç»§** - ä¸€é”®è¿æ¥ä¸Šçº§è·¯ç”±å™¨çƒ­ç‚¹
- ğŸ”Œ **å…³é—­ä¸­ç»§** - æ™ºèƒ½å€’è®¡æ—¶+è½®è¯¢æ£€æµ‹ï¼Œé¿å…WiFiæ–­å¼€å¯¼è‡´çš„å¤±è´¥
- ğŸ” **æ‰«æé™„è¿‘çƒ­ç‚¹** - åŒé¢‘å¹¶å‘æ‰«æ(2.4G/5G)ï¼Œå¢é‡åˆå¹¶ç»“æœï¼Œæ˜¾ç¤ºæ‰«ææ—¶é—´

### âš¡ æ™ºèƒ½åˆ‡æ¢
- ğŸ”„ **è‡ªåŠ¨åˆ‡æ¢** - æ–­ç½‘æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨çƒ­ç‚¹
- â° **å®šæ—¶æ£€æµ‹** - 0-59åˆ†é’Ÿå¯é…ç½®ï¼Œ0ä¸ºå…³é—­

### ğŸ”§ ç³»ç»ŸåŠŸèƒ½
- ğŸ” **å®‰å…¨è®¤è¯** - åŸºäº Token çš„å®‰å…¨è®¤è¯æœºåˆ¶
- ğŸ“² **WXPusheræ¨é€** - çŠ¶æ€å˜åŒ–å®æ—¶é€šçŸ¥
- ğŸ”„ **OTA æ›´æ–°** - æ”¯æŒåœ¨çº¿æ£€æŸ¥å’Œæ›´æ–°

## ç›®å½•ç»“æ„

```
â”œâ”€â”€ wx/              â†’ /www/wx/              # å‰ç«¯æ–‡ä»¶
â”œâ”€â”€ cgi-bin/         â†’ /www/cgi-bin/         # CGI è®¤è¯è„šæœ¬
â”œâ”€â”€ rpcd/            â†’ /usr/libexec/rpcd/    # RPCD åç«¯è„šæœ¬
â”œâ”€â”€ acl.d/           â†’ /usr/share/rpcd/acl.d/# ACL æƒé™é…ç½®
â”œâ”€â”€ etc/wx/          â†’ /etc/wx/              # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ wifi-config.json                    # çƒ­ç‚¹é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ wx_settings.conf                    # ç”¨æˆ·è®¾ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ install.sh                          # ä¸€é”®å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ uninstall.sh     â†’ /etc/wx/uninstall.sh  # ä¸€é”®å¸è½½è„šæœ¬
â””â”€â”€ README.md                               # é¡¹ç›®æ–‡æ¡£
```

## å®‰è£…æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†ä»“åº“å¹¶å®‰è£…
git clone https://gitee.com/okuni/wireless.git /tmp/wx-install && sh /tmp/wx-install/scripts/install.sh && rm -rf /tmp/wx-install
```

> ğŸ’¡ **è¯´æ˜**ï¼šå®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç† Windows æ¢è¡Œç¬¦ã€è®¾ç½®æ–‡ä»¶æƒé™ã€é‡å¯æœåŠ¡ï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®ã€‚

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

<details>
<summary>ç‚¹å‡»å±•å¼€æ‰‹åŠ¨å®‰è£…æ­¥éª¤</summary>

```bash
# 1. å®‰è£… gitï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
opkg update && opkg install git git-http

# 2. å…‹éš†ä»“åº“
git clone https://gitee.com/okuni/wireless.git /tmp/wx-install
cd /tmp/wx-install

# 3. å¤åˆ¶æ–‡ä»¶
mkdir -p /www/wx /www/cgi-bin /usr/libexec/rpcd /usr/share/rpcd/acl.d /etc/wx
cp -r wx/* /www/wx/
cp -r cgi-bin/* /www/cgi-bin/
cp rpcd/wx-wireless /usr/libexec/rpcd/
cp acl.d/* /usr/share/rpcd/acl.d/
cp etc/wx/wifi-config.json /etc/wx/
cp etc/wx/wx_settings.conf /etc/wx/

# 4. è®¾ç½®æƒé™ & è½¬æ¢æ¢è¡Œç¬¦
chmod +x /www/cgi-bin/*.sh /usr/libexec/rpcd/wx-wireless
sed -i 's/\r$//' /www/cgi-bin/*.sh /usr/libexec/rpcd/wx-wireless

# 5. é‡å¯æœåŠ¡
/etc/init.d/rpcd restart && /etc/init.d/uhttpd restart
```

</details>

## å¸è½½æ–¹æ³•

### ä¸€é”®å¸è½½

```bash
# ç›´æ¥æ‰§è¡Œå·²å®‰è£…çš„å¸è½½è„šæœ¬
sh /etc/wx/uninstall.sh
```

> âš ï¸ **è­¦å‘Š**ï¼šå¸è½½æ“ä½œå°†å®Œå…¨ç§»é™¤ WiFi Manager åŠå…¶æ‰€æœ‰ç›¸å…³æ–‡ä»¶ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶å’Œæ—¥å¿—ã€‚

> ğŸ’¡ **è¯´æ˜**ï¼šå¸è½½è„šæœ¬åœ¨å®‰è£…æ—¶å·²å¤åˆ¶åˆ° `/etc/wx/uninstall.sh`ï¼Œæ— éœ€é‡æ–°å…‹éš†ä»“åº“ã€‚

## è®¿é—®åœ°å€

å®‰è£…å®Œæˆåï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š

```
http://<è·¯ç”±å™¨IP>/wx/
```

é¦–æ¬¡ä½¿ç”¨éœ€è¦è®¾ç½®ç®¡ç†å¯†ç ã€‚

## ç³»ç»Ÿè¦æ±‚

- OpenWrt 21.02 æˆ–æ›´é«˜ç‰ˆæœ¬
- å·²å®‰è£… `uhttpd`ï¼ˆé€šå¸¸å·²é¢„è£…ï¼‰
- å·²å®‰è£… `rpcd`ï¼ˆé€šå¸¸å·²é¢„è£…ï¼‰

## OTA æ›´æ–°

ç³»ç»Ÿæ”¯æŒåœ¨çº¿æ£€æŸ¥å’Œæ›´æ–°ï¼š

1. è¿›å…¥ã€Œç³»ç»ŸçŠ¶æ€ã€é¡µé¢
2. ç‚¹å‡»ã€Œç³»ç»Ÿæ›´æ–°ã€
3. ç‚¹å‡»ã€Œæ£€æŸ¥æ›´æ–°ã€
4. å¦‚æœ‰æ–°ç‰ˆæœ¬ï¼Œç‚¹å‡»ã€Œç«‹å³æ›´æ–°ã€

## ç‰ˆæœ¬å†å²

ç‰ˆæœ¬å·å­˜å‚¨åœ¨ `/www/wx/.ver` æ–‡ä»¶ä¸­ã€‚

## è®¸å¯è¯

MIT License

## é—®é¢˜åé¦ˆ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ Gitee æäº¤ Issueã€‚
